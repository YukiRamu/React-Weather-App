(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},59:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(18),r=c.n(s),o=(c(50),c(14)),i=c(8),l=(c(51),c(36)),j=c(37),d=c(45),h=c(44),b=function(e){Object(d.a)(c,e);var t=Object(h.a)(c);function c(){return Object(l.a)(this,c),t.apply(this,arguments)}return Object(j.a)(c,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),c}(n.Component),u=Object(i.g)(b),m=c(73),x=c(39),O=c(75),p=c(10),f=c(11),g=c(19),k=c.n(g),w=c(23),N=c(13),v=c(2),y=Object(n.createContext)(),C=function(e){var t=Object(n.useState)("Vancouver"),c=Object(N.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)("metric"),o=Object(N.a)(r,2),i=o[0],l=o[1],j=Object(n.useState)(),d=Object(N.a)(j,2),h=d[0],b=d[1],u=Object(n.useState)(),m=Object(N.a)(u,2),x=m[0],O=m[1],p=Object(n.useState)(),f=Object(N.a)(p,2),g=f[0],C=f[1],S=Object(n.useState)(""),F=Object(N.a)(S,2),L=F[0],M=F[1],T=Object(n.useState)(""),I=Object(N.a)(T,2),D=I[0],E=I[1],_=Object(n.useState)(!0),W=Object(N.a)(_,2),P=W[0],H=W[1],J=Object(n.useState)(!1),B=Object(N.a)(J,2),R=B[0],U=B[1],Y=function(e){var t=new Date,c=t.getTime()+6e4*t.getTimezoneOffset()+1e3*e.timezone,n=new Date(c);C(n.toString().substr(0,15))};return Object(n.useEffect)((function(){var e="429736441cf3572838aa10530929f7cd";Object(w.a)(k.a.mark((function t(){var c,n,r,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(P&&""!==a||R)){t.next=35;break}return t.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5/weather?","q=").concat(a,"&units=").concat(i,"&appid=").concat(e));case 4:if((c=t.sent).ok){t.next=10;break}throw 404===c.status&&(M("\u274c Location not found"),setTimeout((function(){M("")}),2e3),s(""),H(!1)),c.statusText;case 10:return t.next=12,c.json();case 12:return n=t.sent,b(n),Y(n),t.prev=15,t.next=18,fetch("".concat("https://api.openweathermap.org/data/2.5/onecall?","lat=").concat(n.coord.lat,"&lon=").concat(n.coord.lon,"&units=").concat(i,"&appid=").concat(e));case 18:if((r=t.sent).ok){t.next=23;break}throw r.statusText;case 23:return t.next=25,r.json();case 25:o=t.sent,O(o),H(!1),U(!1);case 29:t.next=35;break;case 31:return t.prev=31,t.t0=t.catch(15),console.error("Error = ".concat(t.t0," : Failed to fetch forefast")),t.abrupt("return",t.t0);case 35:t.next=41;break;case 37:return t.prev=37,t.t1=t.catch(0),console.error("Error = ".concat(t.t1," : Failed to fetch current weather")),t.abrupt("return",t.t1);case 41:case"end":return t.stop()}}),t,null,[[0,37],[15,31]])})))()}),[a,P,i,R]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(y.Provider,{value:{currentWeather:h,setCurrentWeather:b,oneCallWeatherInfo:x,currentDate:g,error:L,setError:M,location:a,setLocation:s,IsLocationChanged:P,setIsLocationChanged:H,unit:i,setUnit:l,IsUnitChanged:R,setIsUnitChanged:U,message:D,setMsg:E},children:e.children})})},S=(c(59),c(16)),F=c.n(S),L=(c(35),c(63),function(){var e=Object(n.useContext)(y),t=e.currentWeather,c=e.message,a=e.setMsg;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("button",{className:"bookmarkBtn",onClick:function(){if(localStorage.hasOwnProperty("bookmark")){var e=JSON.parse(localStorage.getItem("bookmark"));e.some((function(e){return e===t.name}))?(a("\u274c ".concat(t.name," is already in your location list")),setTimeout((function(){a("")}),2500)):(e.push(t.name),localStorage.setItem("bookmark",JSON.stringify(e)),a("\u2714\ufe0f  ".concat(t.name," is added to your location list")),setTimeout((function(){a("")}),2500))}else localStorage.setItem("bookmark",JSON.stringify([t.name])),a("\u2714\ufe0f  ".concat(t.name," is added to your location list")),setTimeout((function(){a("")}),2500)},children:[Object(v.jsx)(p.b,{})," Add to your location"]}),""!==c?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("p",{className:"message",children:c})}):""]})}),M=function(){var e=Object(n.useContext)(y),t=e.currentWeather,c=e.oneCallWeatherInfo,a=e.currentDate;return Object(v.jsx)(v.Fragment,{children:t&&c&&a?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"weatherContainer",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(x.a,{className:"left col-8",children:[Object(v.jsxs)(m.a,{className:"currentRow",children:[Object(v.jsx)(x.a,{className:"temperature",children:Object(v.jsxs)("p",{className:"temp",children:[Math.round([t.main.temp])," \xb0"]})}),Object(v.jsxs)(x.a,{className:"city",xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:[Object(v.jsxs)("h2",{children:[t.name,", ",t.sys.country]}),Object(v.jsx)("p",{children:a}),Object(v.jsxs)("div",{className:"sun",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(f.e,{})," ",Object(v.jsx)(F.a,{unix:!0,format:"LT",children:t.sys.sunrise})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(f.f,{})," ",Object(v.jsx)(F.a,{unix:!0,format:"LT",children:t.sys.sunset})]})]})]}),Object(v.jsxs)(x.a,{className:"icon",children:[Object(v.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"icon"}),Object(v.jsx)("p",{children:t.weather[0].main})]})]}),Object(v.jsx)(m.a,{className:"hourlyRow",children:Object(v.jsx)(O.a,{controls:!1,indicators:!1,children:Object(v.jsx)(O.a.Item,{children:c.hourly.map((function(e,t){return Object(v.jsxs)(x.a,{className:"hourlyPanel",children:[Object(v.jsx)(F.a,{unix:!0,format:"MMM DD",className:"date",children:e.dt}),Object(v.jsx)(F.a,{unix:!0,format:"LT",children:e.dt}),Object(v.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),alt:"icon"}),Object(v.jsxs)("p",{children:[Math.round([e.temp])," \xb0"]})]},e[t])}))})})})]}),Object(v.jsx)(L,{}),Object(v.jsx)(x.a,{className:"right col-4",children:Object(v.jsxs)(m.a,{className:"detailRow",children:[Object(v.jsx)("h3",{children:"Weather Details"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{children:["H : ",Math.round([t.main.temp_max])," \xb0 |"]}),Object(v.jsxs)("p",{children:["L : ",Math.round([t.main.temp_max])," \xb0 |"]}),Object(v.jsxs)("p",{className:"feelLike",children:["Feels like: ",Math.round([t.main.feels_like]),"\xb0"]})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(f.d,{})," ",t.main.humidity," %"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(p.g,{})," ",t.clouds.all," %"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(p.d,{})," ",t.main.pressure," hPa"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(f.b,{})," ",t.wind.speed," m/s"]}),Object(v.jsxs)(o.b,{to:{pathname:"/forecast",state:{dailyForecast:c.daily}},className:"forecastLink ",children:[Object(v.jsx)(f.g,{})," 7 Day Forecast"]})]})})]})})}):Object(v.jsx)("h1",{className:"loading",children:"Loading...Hang on a sec..."})})},T=(c(64),c(77)),I=c(76),D=c(74),E=(c(65),function(){var e=Object(n.useContext)(y),t=e.error,c=e.setError,a=e.location,s=e.setLocation,r=e.setIsLocationChanged,o=Object(i.f)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(I.a,{className:"col-4 searchForm",onSubmit:function(e){e.preventDefault(),"bookmark"===e.target.action.slice(-8)&&o.push("/home"),""!==a&&isNaN(a)?(s(a),r(!0)):(c("\u274c Please enter valid location"),setTimeout((function(){c("")}),2e3))},children:[Object(v.jsx)(I.a.Group,{children:Object(v.jsx)(I.a.Control,{type:"text",placeholder:"Enter location",onChange:function(e){return s(e.target.value)},value:a,onFocus:function(){s("")}})}),Object(v.jsx)(D.a,{type:"submit",className:"searchBtn",children:Object(v.jsx)(p.e,{})})]}),""!==t?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("p",{className:"errorMsg",children:t})}):"",Object(v.jsxs)("a",{href:"https://www.nationsonline.org/oneworld/country_code_list.htm",target:"_black",className:"helpLink",children:[Object(v.jsx)(f.a,{})," Location Search Help"]})]})}),_=c(43),W=function(){var e=Object(n.useContext)(y),t=e.unit,c=e.setUnit,a=e.setIsUnitChanged,s="background-color: transparent; border: 0.1rem solid white",r=function(e){c(e.target.value),a(!0),!0===e.target.checked&&(e.target.parentElement.attributes[1].value="background-color: #d66c05; border: 0.1rem solid #d66c05","imperial"===e.target.value?e.target.parentElement.previousSibling.attributes[1].value=s:e.target.parentElement.nextSibling.attributes[1].value=s)};return Object(v.jsx)(v.Fragment,{children:t?Object(v.jsxs)(m.a,{className:"header",children:[Object(v.jsxs)(T.a,{className:"col-8 title",children:[Object(v.jsxs)(o.b,{to:"/home",children:[Object(v.jsx)(_.a,{})," Weather Report"]}),Object(v.jsxs)("div",{className:"unit",children:[Object(v.jsxs)("label",{className:"unitBtn celcius",style:{border:"0.1rem solid #d66c05",backgroundColor:"#d66c05"},children:[Object(v.jsx)("input",{type:"radio",value:"metric",onChange:r,checked:"metric"===t}),"Celcius"]}),Object(v.jsxs)("label",{className:"unitBtn metric",style:{border:"0.1rem solid white",backgroundColor:"transparent"},children:[Object(v.jsx)("input",{type:"radio",value:"imperial",onChange:r,checked:"imperial"===t}),"Fahrenheit"]})]}),Object(v.jsxs)(o.b,{to:"/bookmark",className:"link",children:[Object(v.jsx)(p.b,{})," Your Location"]}),Object(v.jsxs)(o.b,{to:"/home",className:"link",children:[Object(v.jsx)(f.c,{})," Current weather"]}),Object(v.jsxs)(o.b,{to:"/forecast",className:"link",children:[Object(v.jsx)(f.c,{})," 7 Day Forecast"]})]}),Object(v.jsx)(E,{})]}):Object(v.jsx)("h1",{className:"loading",children:"Loading...Hang on a sec..."})})},P=(c(67),function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("footer",{children:Object(v.jsxs)("h5",{children:["@Yuki Matsubara all right reserved. 2021/06.",Object(v.jsx)("a",{href:"https://www.linkedin.com/in/yukimatsubara/",target:"_blank",rel:"noreferrer",children:Object(v.jsx)(p.c,{})}),Object(v.jsx)("a",{href:"https://github.com/YukiRamu",target:"_blank",rel:"noreferrer",children:Object(v.jsx)(p.a,{})})]})})})}),H=(c(68),function(){var e=Object(n.useContext)(y),t=e.currentWeather,c=e.oneCallWeatherInfo;return Object(v.jsx)(v.Fragment,{children:t&&c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"forecastContainer",children:[Object(v.jsxs)("h2",{children:[t.name,", ",t.sys.country]}),Object(v.jsx)(m.a,{children:c.daily.map((function(e,t){return Object(v.jsxs)(x.a,{children:[Object(v.jsx)("h3",{children:Object(v.jsx)(F.a,{unix:!0,format:"MMM DD",children:e.dt})}),Object(v.jsx)("h4",{children:Object(v.jsx)(F.a,{unix:!0,format:"ddd",children:e.dt})}),Object(v.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:"icon"}),Object(v.jsxs)("p",{className:"feelLike",children:[Object(v.jsx)(p.f,{})," ",Math.round([e.feels_like.day]),"\xb0"]}),Object(v.jsxs)("div",{className:"temperature",children:[Object(v.jsxs)("p",{className:"max",children:["H : ",Math.round([e.temp.max])," \xb0"]}),Object(v.jsxs)("p",{className:"min",children:[" L : ",Math.round([e.temp.min])," \xb0"]})]}),Object(v.jsxs)("div",{className:"sun",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(f.e,{})," ",Object(v.jsx)(F.a,{unix:!0,format:"LT",children:e.sunrise})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(f.f,{})," ",Object(v.jsx)(F.a,{unix:!0,format:"LT",children:e.sunset})]})]}),Object(v.jsxs)("div",{className:"humidity",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(f.d,{})," ",e.humidity," %"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(p.g,{})," ",e.clouds," %"]})]}),Object(v.jsxs)("div",{className:"pressure",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(p.d,{})," ",e.pressure," hPa"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(f.b,{})," ",e.wind_speed," m/s"]})]})]},e[t])}))})]}),Object(v.jsx)(L,{className:"msg"})]}):Object(v.jsx)("h1",{className:"loading",children:"Loading...Hang on a sec..."})})}),J=(c(69),function(e){var t=Object(n.useContext)(y),c=t.unit,a=t.setLocation,s=t.setIsLocationChanged,r=t.message,o=t.setMsg,l=Object(i.f)(),j=Object(n.useState)([]),d=Object(N.a)(j,2),h=d[0],b=d[1],u=Object(n.useState)(""),x=Object(N.a)(u,2),O=x[0],p=x[1];return Object(n.useEffect)((function(){var e=[];localStorage.hasOwnProperty("bookmark")?function(){for(var t=JSON.parse(localStorage.getItem("bookmark")),n=function(n){Object(w.a)(k.a.mark((function a(){var s,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat("https://api.openweathermap.org/data/2.5/weather?","q=").concat(t[n],"&units=").concat(c,"&appid=").concat("429736441cf3572838aa10530929f7cd"));case 3:if((s=a.sent).ok){a.next=8;break}throw s.statusText;case 8:return a.next=10,s.json();case 10:r=a.sent,e.unshift(r);case 12:b(e),a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),console.error("Error = ".concat(a.t0," : Failed to fetch current weather")),a.abrupt("return",a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,15]])})))()},a=0;a<t.length;a++)n(a);"any"!=window.name?(window.location.reload(),window.name="any"):window.name=""}():p("No location added yet")}),[]),Object(v.jsxs)(v.Fragment,{children:[h?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"bookmarkContainer",children:[Object(v.jsx)("h2",{children:"Your Location"}),Object(v.jsx)(m.a,{className:"row-cols-lg-4",children:h.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"col",children:[Object(v.jsx)("button",{className:"delBtn",onClick:function(e){!function(e){var t=JSON.parse(localStorage.getItem("bookmark")).filter((function(t){return t!==e.target.nextElementSibling.childNodes[0].innerText}));localStorage.setItem("bookmark",JSON.stringify(t)),o("\u2714\ufe0f  ".concat(e.target.nextElementSibling.childNodes[0].innerText," is successfully deleted from your location list")),setTimeout((function(){o("")}),2500),"any"!=window.name?(window.location.reload(),window.name="any"):window.name=""}(e)},children:"x"}),Object(v.jsxs)(D.a,{className:"locationPanel col",onClick:function(){!function(e){a(e.name),s(!0),l.push("/home")}(e)},children:[Object(v.jsx)("div",{className:"cityName",children:Object(v.jsx)("h3",{children:e.name})}),Object(v.jsxs)("div",{className:"detail",children:[Object(v.jsxs)("p",{className:"temp",children:[Math.round([e.main.temp])," \xb0"]}),Object(v.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:"icon"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{className:"feelLike",children:["Feels like: ",Math.round([e.main.feels_like]),"\xb0"]}),Object(v.jsxs)("p",{children:["H : ",Math.round([e.main.temp_max])," \xb0 | L : ",Math.round([e.main.temp_max])," \xb0"]})]})]})]})]},e)})}))})]})}):Object(v.jsx)("h1",{className:"loading",children:"Loading...Hang on a sec..."}),O?Object(v.jsx)("h1",{className:"loading",children:O}):"",""!==r?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("p",{className:"message",children:r})}):""]})}),B=(c(70),function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(C,{children:Object(v.jsx)(o.a,{basename:"/React-Weather-App",children:Object(v.jsxs)(u,{children:[Object(v.jsx)(W,{}),Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{exact:!0,path:"/",component:M}),Object(v.jsx)(i.a,{exact:!0,path:"/home",component:M}),Object(v.jsx)(i.a,{exact:!0,path:"/forecast",component:H}),Object(v.jsx)(i.a,{exact:!0,path:"/bookmark",component:J})]}),Object(v.jsx)(P,{})]})})})})}),R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,78)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root")),R()}},[[71,1,2]]]);
//# sourceMappingURL=main.00214081.chunk.js.map